<!DOCTYPE html>
<html>
  <head>
    <title>Location Submit</title>
    <meta charset="utf-8" />
    <script>
      function sendLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition((position) => {
            const payload = {
              name: prompt("Enter your name"),
              lat: position.coords.latitude,
              lon: position.coords.longitude
            };

            fetch('https://script.google.com/macros/s/AKfycbz1VwctcMtEMfa2RUGhwUAiu-1iiSF8lthoGZPRstmrd-E4QDRWqXGavZ9KPqy6lMe-/exec', {
              method: 'POST',
              body: JSON.stringify(payload)
            })
            .then(res => res.text())
            .then(data => alert("Location submitted!"))
            .catch(err => console.error(err));
          });
        } else {
          alert("Geolocation is not supported.");
        }
      }

      window.onload = sendLocation;
    </script>
  </head>
  <body>
    <h2>Capturing Your Location...</h2>
  </body>
</html>
